<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <title>Generador de Códigos QR</title>
    <!-- Tailwind para estilos modernos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="script.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
</head>

<body class="bg-gray-100 min-h-screen p-8">
    <div class="container mx-auto max-w-2xl bg-white rounded-lg shadow-md p-6">
        <!-- Logo y título -->
        <img src="uraccan_logo.png" alt="QR Code Icon" class="w-[100px] mx-auto mb-4" />
        <h1 class="text-3xl font-bold text-gray-800 mb-6">Generador de códigos QR</h1>

        <!-- Input de texto -->
        <div class="mb-4">
            <label for="qr-text" class="block text-gray-700 mb-2 font-bold">Texto a codificar:</label>
            <input type="text" id="qr-text"
                class="w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="Ingresa tu texto aquí">
        </div>

        <!-- Sección de personalización -->
        <div class="border rounded-lg p-4 space-y-4 mb-4">
            <h3 class="text-xl font-semibold text-gray-700">Personalización</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Tamaño -->
                <div>
                    <label for="qr-size" class="block text-gray-600 mb-1">Tamaño (en píxeles)</label>
                    <input type="number" id="qr-size" value="500" min="100" max="1000"
                        class="w-full p-2 border rounded-md" />
                </div>
                <!-- Margen -->
                <div>
                    <label for="qr-margin" class="block text-gray-600 mb-1">Margen</label>
                    <input type="number" id="qr-margin" value="4" min="0" max="20"
                        class="w-full p-2 border rounded-md" />
                </div>
                <!-- Tipo de color -->
                <div>
                    <label for="color-type" class="block text-gray-600 mb-1">Tipo de color</label>
                    <select id="color-type" class="w-full p-2 border rounded-md" onchange="toggleGradientInput()">
                        <option value="solid" selected>Sólido</option>
                        <option value="gradient">Degradado</option>
                    </select>
                </div>
                <!-- Color de código/inicio -->
                <div>
                    <label for="dark-color" class="block text-gray-600 mb-1" id="dark-color-label">Color de código
                        </label>
                    <input type="color" id="dark-color" value="#000000" class="w-full h-10" />
                </div>
                <!-- Color de fondo -->
                <div>
                    <label for="light-color" class="block text-gray-600 mb-1" id="light-color-label">Color de fondo
                        </label>
                    <input type="color" id="light-color" value="#ffffff" class="w-full h-10" />
                </div>
                <!-- Color final de degradado -->
                <div id="gradient-color-group" style="display:none;">
                    <label for="gradient-color" class="block text-gray-600 mb-1" id="gradient-color-label">Color final
                        de degradado</label>
                    <input type="color" id="gradient-color" value="#0059A1" class="w-full h-10" />
                </div>
                <!-- Ángulo del degradado -->
                <div id="gradient-angle-group" style="display:none;">
                    <label for="gradient-angle" class="block text-gray-600 mb-1" id="gradient-angle-label">Ángulo del degradado (°)</label>
                    <input type="number" id="gradient-angle" value="90" min="0" max="360" class="w-full p-2 border rounded-md" />
                </div>
                <!-- Corrección de errores -->
                <div class="md:col-span-2">
                    <label for="error-level" class="block text-gray-600 mb-1">Capacidad de corrección de errores
                        </label>
                    <select id="error-level" class="w-full p-2 border rounded-md">
                        <option value="L">L (7%)</option>
                        <option value="M" selected>M (15%)</option>
                        <option value="Q">Q (25%)</option>
                        <option value="H">H (30%)</option>
                    </select>
                </div>
                <!-- Logotipo personalizado -->
                <div class="md:col-span-2 flex flex-col md:flex-row gap-4 items-center">
                    <div class="flex-1">
                        <label for="logo-input" class="block text-gray-600 mb-1">Logotipo (PNG/JPG)</label>
                        <input type="file" id="logo-input" accept="image/png, image/jpeg" class="w-full p-2 border rounded-md" />
                    </div>
                    <div class="flex-1">
                        <label for="logo-size" class="block text-gray-600 mb-1">Tamaño logotipo (px)</label>
                        <input type="number" id="logo-size" value="80" min="20" max="300" class="w-full p-2 border rounded-md" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Botones de acción -->
        <div class="flex gap-2 mt-4">
            <button onclick="generateQR()"
                class="flex-1 bg-[#0059A1] hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md transition-colors">
                Generar QR
            </button>
            <button id="download-btn" onclick="downloadQR()"
                class="flex-1 bg-[#007731] hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md transition-colors hidden">
                Descargar QR
            </button>
        </div>

        <!-- Mensaje de error y canvas -->
        <div id="error-message" class="text-red-500 mt-2"></div>
        <div class="overflow-auto mt-5">
            <canvas id="qr-canvas" class="mx-auto max-w-full" hidden></canvas>
        </div>
    </div>
    <!-- Footer -->
    <footer class="text-center mt-8 text-gray-600">
        <p>&#169;2025. Yeltsin Reyes. Todos los derechos reservados.</p>
    </footer>
</body>

</html>